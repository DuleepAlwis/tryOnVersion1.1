/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
import { stringFormat } from '../mc-breadcrumbs.shared';
import { of } from 'rxjs';
export class McBreadcrumbsResolver {
    /**
     * @param {?} route
     * @param {?} state
     * @return {?}
     */
    resolve(route, state) {
        /** @type {?} */
        const data = route.routeConfig.data;
        /** @type {?} */
        const path = this.getFullPath(route);
        /** @type {?} */
        let text = typeof data["breadcrumbs"] === 'string'
            ? data["breadcrumbs"] : data["breadcrumbs"].text || data["text"] || path;
        text = stringFormat(text, route.data);
        /** @type {?} */
        const crumbs = [
            {
                text: text,
                path: path
            }
        ];
        return of(crumbs);
    }
    /**
     * @param {?} route
     * @return {?}
     */
    getFullPath(route) {
        /** @type {?} */
        const relativePath = (segments) => segments.reduce((a, v) => (a += '/' + v.path), '');
        /** @type {?} */
        const fullPath = (routes) => routes.reduce((a, v) => (a += relativePath(v.url)), '');
        return fullPath(route.pathFromRoot);
    }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWMtYnJlYWRjcnVtYnMucmVzb2x2ZXIuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9uZ3gtYnJlYWRjcnVtYnMvIiwic291cmNlcyI6WyJzcmMvc2VydmljZS9tYy1icmVhZGNydW1icy5yZXNvbHZlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBTUEsT0FBTyxFQUFlLFlBQVksRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBQ3JFLE9BQU8sRUFBYyxFQUFFLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFFdEMsTUFBTTs7Ozs7O0lBQ0csT0FBTyxDQUNaLEtBQTZCLEVBQzdCLEtBQTBCOztRQUUxQixNQUFNLElBQUksR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQzs7UUFDcEMsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQzs7UUFFckMsSUFBSSxJQUFJLEdBQ04sT0FBTyxJQUFJLGVBQVksS0FBSyxRQUFRO1lBQ2xDLENBQUMsQ0FBQyxJQUFJLGdCQUNOLENBQUMsQ0FBQyxJQUFJLGdCQUFhLElBQUksSUFBSSxJQUFJLFFBQUssSUFBSSxJQUFJLENBQUM7UUFDakQsSUFBSSxHQUFHLFlBQVksQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDOztRQUV0QyxNQUFNLE1BQU0sR0FBa0I7WUFDNUI7Z0JBQ0UsSUFBSSxFQUFFLElBQUk7Z0JBQ1YsSUFBSSxFQUFFLElBQUk7YUFDWDtTQUNGLENBQUM7UUFFRixNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDOzs7Ozs7SUFHYixXQUFXLENBQUMsS0FBNkI7O1FBQzlDLE1BQU0sWUFBWSxHQUFHLENBQUMsUUFBc0IsRUFBRSxFQUFFLENBQzlDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDOztRQUNyRCxNQUFNLFFBQVEsR0FBRyxDQUFDLE1BQWdDLEVBQUUsRUFBRSxDQUNwRCxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksWUFBWSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBRTFELE1BQU0sQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxDQUFDOztDQUV2QyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEFjdGl2YXRlZFJvdXRlU25hcHNob3QsXG4gIFJlc29sdmUsXG4gIFJvdXRlclN0YXRlU25hcHNob3QsXG4gIFVybFNlZ21lbnRcbn0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcbmltcG9ydCB7IElCcmVhZGNydW1iLCBzdHJpbmdGb3JtYXQgfSBmcm9tICcuLi9tYy1icmVhZGNydW1icy5zaGFyZWQnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSwgb2YgfSBmcm9tICdyeGpzJztcblxuZXhwb3J0IGNsYXNzIE1jQnJlYWRjcnVtYnNSZXNvbHZlciBpbXBsZW1lbnRzIFJlc29sdmU8SUJyZWFkY3J1bWJbXT4ge1xuICBwdWJsaWMgcmVzb2x2ZShcbiAgICByb3V0ZTogQWN0aXZhdGVkUm91dGVTbmFwc2hvdCxcbiAgICBzdGF0ZTogUm91dGVyU3RhdGVTbmFwc2hvdFxuICApOiBPYnNlcnZhYmxlPElCcmVhZGNydW1iW10+IHwgUHJvbWlzZTxJQnJlYWRjcnVtYltdPiB8IElCcmVhZGNydW1iW10ge1xuICAgIGNvbnN0IGRhdGEgPSByb3V0ZS5yb3V0ZUNvbmZpZy5kYXRhO1xuICAgIGNvbnN0IHBhdGggPSB0aGlzLmdldEZ1bGxQYXRoKHJvdXRlKTtcblxuICAgIGxldCB0ZXh0ID1cbiAgICAgIHR5cGVvZiBkYXRhLmJyZWFkY3J1bWJzID09PSAnc3RyaW5nJ1xuICAgICAgICA/IGRhdGEuYnJlYWRjcnVtYnNcbiAgICAgICAgOiBkYXRhLmJyZWFkY3J1bWJzLnRleHQgfHwgZGF0YS50ZXh0IHx8IHBhdGg7XG4gICAgdGV4dCA9IHN0cmluZ0Zvcm1hdCh0ZXh0LCByb3V0ZS5kYXRhKTtcblxuICAgIGNvbnN0IGNydW1iczogSUJyZWFkY3J1bWJbXSA9IFtcbiAgICAgIHtcbiAgICAgICAgdGV4dDogdGV4dCxcbiAgICAgICAgcGF0aDogcGF0aFxuICAgICAgfVxuICAgIF07XG5cbiAgICByZXR1cm4gb2YoY3J1bWJzKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRGdWxsUGF0aChyb3V0ZTogQWN0aXZhdGVkUm91dGVTbmFwc2hvdCk6IHN0cmluZyB7XG4gICAgY29uc3QgcmVsYXRpdmVQYXRoID0gKHNlZ21lbnRzOiBVcmxTZWdtZW50W10pID0+XG4gICAgICBzZWdtZW50cy5yZWR1Y2UoKGEsIHYpID0+IChhICs9ICcvJyArIHYucGF0aCksICcnKTtcbiAgICBjb25zdCBmdWxsUGF0aCA9IChyb3V0ZXM6IEFjdGl2YXRlZFJvdXRlU25hcHNob3RbXSkgPT5cbiAgICAgIHJvdXRlcy5yZWR1Y2UoKGEsIHYpID0+IChhICs9IHJlbGF0aXZlUGF0aCh2LnVybCkpLCAnJyk7XG5cbiAgICByZXR1cm4gZnVsbFBhdGgocm91dGUucGF0aEZyb21Sb290KTtcbiAgfVxufVxuIl19